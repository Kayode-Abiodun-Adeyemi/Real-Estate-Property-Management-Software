@model CreateBuildingViewModel;

@{ 
    ViewBag.Title = "Property Listing";
 }

@if (ViewBag.Message != null)
{
<h4>@ViewBag.Message</h4>
}
<h1>List Property</h1>

<div>
    <form enctype="multipart/form-data" method="post" asp-controller="LandLord" asp-action="AddProperty">
        <div asp-validation-summary="All" class="text-danger"></div>

        <div class="form-group">
            <label asp-for="@Model.CategoryName"></label>

            <select asp-for="CategoryName" asp-items="@(new SelectList(@ViewBag.listofCategories, "Id", "CategoryName"))"></select>
            <span asp-validation-for="@Model.CategoryName" class="text-danger"></span>
        </div>


        <div class="form-group">
            <label>Rent or Sale?</label>
            <select name="ForBuyorSale">
                <option value="Sale">Sale</option>
                <option value="Rent">Rent</option>
            </select>
            <span asp-validation-for="@Model.ForBuyorSale" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="@Model.PropertyAddress"></label>
            <input asp-for="@Model.PropertyAddress" class="form-control" />
            <span asp-validation-for="@Model.PropertyAddress" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="@Model.HasGarage"></label>
            <select name="HasGarage">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
            <span asp-validation-for="@Model.HasGarage" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="IsPetAllowed"></label>
            <select name="IsPetAllowed">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
            <span asp-validation-for="@Model.IsPetAllowed" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="@Model.HasSwimmingPool"></label>
            <select name="HasSwimmingPool">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
            <span asp-validation-for="@Model.HasSwimmingPool" class="text-danger"></span>
        </div>


        <div class="form-group">
            <label asp-for="@Model.StartAvailabilityDate"></label>
            <input asp-for="@Model.StartAvailabilityDate" class="form-control" />
            <span asp-validation-for="@Model.StartAvailabilityDate" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="@Model.EndAvailabilityDate"></label>
            <input asp-for="@Model.EndAvailabilityDate" class="form-control" />
            <span asp-validation-for="@Model.EndAvailabilityDate" class="text-danger"></span>
        </div>


        <div class="form-group">
            <label asp-for="@Model.LandLordFullName"></label>
            <input asp-for="@Model.LandLordFullName" class="form-control" />
            <span asp-validation-for="@Model.LandLordFullName" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="@Model.LandLordEmailAddress"></label>
            <input asp-for="@Model.LandLordEmailAddress" class="form-control" />
            <span asp-validation-for="@Model.LandLordEmailAddress" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label asp-for="@Model.Description"></label>
            <input asp-for="@Model.Description" class="form-control" />
            <span asp-validation-for="@Model.Description" class="text-danger"></span>
        </div>


        <div class="form-group">
            <label asp-for="@Model.RentPerMonth"></label>
            <input asp-for="@Model.RentPerMonth" class="form-control" />
            <span asp-validation-for="@Model.RentPerMonth" class="text-danger"></span>
        </div>

        <div class="form-group row">
            <label asp-for="Photo" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <div class="custom-file">
                    <input asp-for="Photo" class="form-control custom-file-input">
                    <label class="custom-file-label">Choose a file to upload...</label>
                </div>
            </div>
        </div>

        <button class="btn btn-primary" type="submit">List Property</button>
    </form>
    @section Scripts{
        <script>(function () {
                        const fileInput = document.querySelector('.custom-file-input');
                        const fileLabel = document.querySelector('.custom-file-label');
                        fileInput.addEventListener('change', event => {
                            const fileName = fileInput.value.split("\\").pop();
                            fileLabel.innerHTML = fileName;
                        });
                    })();</script>
    }
</div>
